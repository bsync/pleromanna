{% extends "base.html" %}
{% load static wagtailcore_tags wagtailimages_tags %}
{% block extrastyle %} 
   .container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(650px, 1fr));
      grid-column-gap: 10px;
      background-color: gray; color: white;
      justify-items: center;
      border-radius: 5px;
      margin-top: 40px; padding: 1em;
   }
   .header { 
      grid-column: 1 / 4; 
      background-color: darkblue; 
      border-radius: 15px;
      width: 100%;
      text-align: center;
      margin: 5px;
   }
   .pic { 
      grid-column: 1 / 2; grid-row: 2 / 8; 
      margin: 5px; padding: 5px;
      background-color: orange; 
      border-radius: 15px;
      object-fit: contain;
   }
   .notices { 
      grid-column: 1 / 2; grid-row: 8 / 9; 
      background-color: black; color: red;
      border: 2px solid #ffa94d;
      border-radius: 15px;
      width: 100%;
      text-align: center;
      margin: 5px;
   }
   .events { 
      grid-column: 2 / 4; grid-row: 2 / 5; 
      background-color: lightgray; color: black;
      border-radius: 15px;
      width: 100%;
      margin: 5px; padding: 5px;
   }
   .events > ul { list-style: none; }
   .lessons { 
      grid-column: 2 / 4; grid-row: 5 / 7; 
      background-color: lightgray; color: black;
      border-radius: 15px;
      width: 100%;
      margin: 5px;  padding: 5px;
      list-style: none;
   }
   .lessons > ul { list-style: none; }
   .active { 
      grid-column: 2 / 4; grid-row: 7 / 9; 
      background-color: lightgray; color: black;
      border-radius: 15px;
      width: 100%;
      margin: 5px;  padding: 5px;
      list-style: none;
   }
   .active > ul { list-style: none; }
   .para { 
      grid-column: 1 / 4; grid-row: 9 / 10; 
      background-color: lightgray; color: black;
      border-radius: 15px;
      padding: 8px;
      margin: 5px; 
   }
{% endblock %}
{% block content %}
<div class="container">
  <div class="header"> <h1> <u><b>{{ page.heading }} </b></u></h1> </div>
  <div class="pic"> {% image page.image max-650x500 %} </div>  
   <div class="events">
      <b>Upcoming Events:</b>
      <ul>
      {% for eblock in evtBlocks %}
         <li> 
            <a href="{{ evtPage }}#{{eblock.id}}">
               {{ eblock.value.section|truncatechars:25 }}</a> - 
            {{ eblock.value.start_date|date:'m-d' }}
         </li>
      {% endfor %}
      </ul>
   </div>
   <div class="lessons">
      <b><a href="/media/lessons">Latest Lessons:</a></b>
      <ul> 
         {% for lesson in lessons %}
         <li> 
            <a href="{{lesson.url}}">
               {{lesson.album_name}}:{{lesson.title}}
            </a> 
         </li>
         {% endfor %}
      </ul>
   </div>
   <div class="active">
      <b>Recent Activity:</b>
      <ul>
      {% for repage in recent_pages %}
         <li> 
            <a href="{{repage.url}}">
               {{ repage.title|truncatechars:25 }}</a> - 
            {{ repage.pub_date|date:'m-d' }} </li>
      {% endfor %}
      </ul>
   </div>
  <div class="notices">
      Notice: {{ page.notice|richtext }}
  </div>
  <div class="para">
      <div class="block"> {{ page.paragraph|richtext }} </div>
  </div>
</div>
{% endblock %}
